version: "1.2"
namespace: default

# Feature Flags Configuration for Flipt v2
# This file is automatically synced to Flipt via GitHub using git storage backend
# 
# Git Sync Configuration:
# - Repository: https://github.com/dev-alxv/openfeature-flipt-angular.git
# - Branch: main
# - Poll Interval: 30s (checks for changes every 30 seconds)
# - Fetch Policy: strict (validates all changes before applying)
# - Storage Backend: in-memory with remote git sync
#
# To update flags:
# 1. Edit this file in the git repository
# 2. Commit and push to the main branch
# 3. Flipt will automatically detect and sync changes within 30 seconds
# 4. Angular app will reflect updated flag values on next evaluation

flags:
  - key: newHomeUI
    name: newHomeUI
    type: BOOLEAN_FLAG_TYPE
    description: ""
    enabled: false
    rules:
      - rank: 1
        segment: client-1
        value: false
      - rank: 2
        segment: client-2
        value: false

  - key: oldFeatureB
    name: oldFeatureB
    type: BOOLEAN_FLAG_TYPE
    description: ""
    enabled: false
    rules:
      - rank: 1
        segment: client-2
        value: false

  - key: oldFeatureA
    name: oldFeatureA
    type: BOOLEAN_FLAG_TYPE
    description: ""
    enabled: false
    metadata:
      userId: client-1
    rules:
      - rank: 1
        segment: client-1
        value: true

  - key: newRevenueChart
    name: newRevenueChart
    type: BOOLEAN_FLAG_TYPE
    description: ""
    enabled: false
    rules:
      - rank: 1
        segment: client-1
        value: false

# Segments for targeting
segments:
  - key: client-1
    name: client-1
    description: ""
    match_type: ALL_MATCH_TYPE
    constraints:
      - type: STRING_COMPARISON_TYPE
        property: entityId
        operator: eq
        value: client-1

  - key: client-2
    name: client-2
    description: ""
    match_type: ALL_MATCH_TYPE
    constraints:
      - type: STRING_COMPARISON_TYPE
        property: entityId
        operator: eq
        value: client-2
